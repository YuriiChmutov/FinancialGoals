@page "/categoriesAdd"

@using System.ComponentModel.DataAnnotations;
@using System.Text.Json;
@using System.ComponentModel

@inject HttpClient Http

<Form id="myForm" Model="@_category"
            LabelColSpan="8"
            WrapperColSpan="16">
        <FormItem>
            <Input @bind-Value="@context.Name" />
        </FormItem>

        <FormItem WrapperColOffset="8" WrapperColSpan="16">
            <Button Type="@ButtonType.Primary" HtmlType="submit" @onclick="CreateCategory">
                Submit
            </Button>
        </FormItem>
    </Form>

@* <input @bind="newItemName" placeholder="New Todo Item" /> *@
@* <button @onclick="AddItem">Add</button> *@



@code {
    //string nameValue { get; set; }
    
    // private static string? newItemName;


    Category _category = new Category();
    // {
    //     Name = newItemName
    // };

    private async Task CreateCategory()
    {
        await Http.PostAsJsonAsync("https://localhost:7128/api/Categories", _category);
    }
}